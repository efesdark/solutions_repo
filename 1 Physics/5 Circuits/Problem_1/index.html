<!DOCTYPE html>

<html class="writer-html5" lang="en">
<head>
<meta charset="utf-8"/>
<meta content="IE=edge" http-equiv="X-UA-Compatible"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<link href="../../../img/favicon.ico" rel="shortcut icon"/>
<title>Circuits - Physics and Mathematics</title>
<link href="../../../css/theme.css" rel="stylesheet"/>
<link href="../../../css/theme_extra.css" rel="stylesheet"/>
<link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" rel="stylesheet"/>
<script>
        // Current page data
        var mkdocs_page_name = "Circuits";
        var mkdocs_page_input_path = "1 Physics/5 Circuits/Problem_1.md";
        var mkdocs_page_url = null;
      </script>
<!--[if lt IE 9]>
      <script src="../../../js/html5shiv.min.js"></script>
    <![endif]-->
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/yaml.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/rust.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/python.min.js"></script>
<script>hljs.highlightAll();</script>
</head>
<body class="wy-body-for-nav" role="document">
<div class="wy-grid-for-nav">
<nav class="wy-nav-side stickynav" data-toggle="wy-nav-shift">
<div class="wy-side-scroll">
<div class="wy-side-nav-search">
<a class="icon icon-home" href="../../.."> Physics and Mathematics
        </a><div role="search">
<form action="../../../search.html" class="wy-form" id="rtd-search-form" method="get">
<input aria-label="Search docs" name="q" placeholder="Search docs" title="Type search term here" type="text"/>
</form>
</div>
</div>
<div aria-label="Navigation menu" class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation">
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../..">Introduction</a>
</li>
</ul>
<p class="caption"><span class="caption-text">1 Physics</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal">1 Mechanics</a>
<ul>
<li class="toctree-l2"><a class="reference internal" href="../../1%20Mechanics/Problem_1/">Problem 1</a>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../1%20Mechanics/Problem_2/">Problem 2</a>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal">2 Gravity</a>
<ul>
<li class="toctree-l2"><a class="reference internal" href="../../2%20Gravity/Problem_1/">Problem 1</a>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../2%20Gravity/Problem_2/">Problem 2</a>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../2%20Gravity/Problem_3/">Problem 3: Trajectories of a Freely Released Payload Near Earth</a>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal">3 Waves</a>
<ul>
<li class="toctree-l2"><a class="reference internal" href="../../3%20Waves/Problem_1/">Problem 1: Interference Patterns on a Water Surface</a>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal">4 Electromagnetism</a>
<ul>
<li class="toctree-l2"><a class="reference internal" href="../../4%20Electromagnetism/Problem_1/">Simulating the Effects of the Lorentz Force</a>
</li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal current">5 Circuits</a>
<ul class="current">
<li class="toctree-l2 current"><a class="reference internal current" href="#">Circuits</a>
<ul class="current">
<li class="toctree-l3"><a class="reference internal" href="#problem-1">Problem 1</a>
<ul>
<li class="toctree-l4"><a class="reference internal" href="#equivalent-resistance-using-graph-theory">Equivalent Resistance Using Graph Theory</a>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#motivation">Motivation</a>
</li>
<li class="toctree-l3"><a class="reference internal" href="#formulas">Formulas</a>
</li>
<li class="toctree-l3"><a class="reference internal" href="#recursive-calculation">Recursive Calculation</a>
</li>
<li class="toctree-l3"><a class="reference internal" href="#interactive-circuit-simulator-nested-series-parallel">Interactive Circuit Simulator (Nested Series &amp; Parallel)</a>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal">6 Statistics</a>
<ul>
<li class="toctree-l2"><a class="reference internal" href="../../6%20Statistics/Problem_1/">Problem 1</a>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../6%20Statistics/Problem_2/">Problem 2</a>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal">7 Measurements</a>
<ul>
<li class="toctree-l2"><a class="reference internal" href="../../7%20Measurements/Problem_1/">Problem 1</a>
</li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">2 Mathematics</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../2%20Mathematics/1%20Linear_algebra/">Linear Algebra</a>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../2%20Mathematics/2%20Analytic_geometry/">Analytic geometry</a>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../2%20Mathematics/3%20Calculus/">Calculus</a>
</li>
</ul>
<p class="caption"><span class="caption-text">3 Discret Mathematics</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal">1 Set Theory and ...</a>
<ul>
<li class="toctree-l2"><a class="reference internal" href="../../../3%20Discret_Mathematics/1%20Set%20Theory%20and%20.../_02%20Set_Theory/">Set Theory</a>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../3%20Discret_Mathematics/1%20Set%20Theory%20and%20.../_03%20Relations/">Relations</a>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../3%20Discret_Mathematics/1%20Set%20Theory%20and%20.../_04%20Functions/">Functions</a>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal">2 Number Theory and ...</a>
<ul>
<li class="toctree-l2"><a class="reference internal" href="../../../3%20Discret_Mathematics/2%20Number%20Theory%20and%20.../_05%20Combinatorics/">Combinatorics</a>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../3%20Discret_Mathematics/2%20Number%20Theory%20and%20.../_08%20Number_Theory/">Number Theory</a>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal">3 Recurrence and ...</a>
<ul>
<li class="toctree-l2"><a class="reference internal" href="../../../3%20Discret_Mathematics/3%20Recurrence%20and%20.../_06%20Sequences_and_Series/">Sequences and Series</a>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../3%20Discret_Mathematics/3%20Recurrence%20and%20.../_07%20Induction/">Induction</a>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../3%20Discret_Mathematics/3%20Recurrence%20and%20.../_09%20Recurrence/">Recurrence</a>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal">4 Graph Theory and ...</a>
<ul>
<li class="toctree-l2"><a class="reference internal" href="../../../3%20Discret_Mathematics/4%20Graph%20Theory%20and%20.../_10%20Graph_Theory/">Graph Theory</a>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal">5 Logic</a>
<ul>
<li class="toctree-l2"><a class="reference internal" href="../../../3%20Discret_Mathematics/5%20Logic/_01%20Logic/">Logic</a>
</li>
</ul>
</li>
</ul>
</div>
</div>
</nav>
<section class="wy-nav-content-wrap" data-toggle="wy-nav-shift">
<nav aria-label="Mobile navigation menu" class="wy-nav-top" role="navigation">
<i class="fa fa-bars" data-toggle="wy-nav-top"></i>
<a href="../../..">Physics and Mathematics</a>
</nav>
<div class="wy-nav-content">
<div class="rst-content"><div aria-label="breadcrumbs navigation" role="navigation">
<ul class="wy-breadcrumbs">
<li><a aria-label="Docs" class="icon icon-home" href="../../.."></a></li>
<li class="breadcrumb-item">1 Physics</li>
<li class="breadcrumb-item">5 Circuits</li>
<li class="breadcrumb-item active">Circuits</li>
<li class="wy-breadcrumbs-aside">
</li>
</ul>
<hr/>
</div>
<div class="document" itemscope="itemscope" itemtype="http://schema.org/Article" role="main">
<div class="section" itemprop="articleBody">
<h1 id="circuits">Circuits</h1>
<h2 id="problem-1">Problem 1</h2>
<h3 id="equivalent-resistance-using-graph-theory">Equivalent Resistance Using Graph Theory</h3>
<hr/>
<h2 id="motivation">Motivation</h2>
<p>Calculating equivalent resistance is fundamental in circuit analysis. Complex circuits often combine series and parallel resistors in nested configurations. Representing circuits as hierarchical structures allows precise computation of equivalent resistance using recursive formulas.</p>
<hr/>
<h2 id="formulas">Formulas</h2>
<ul>
<li><strong>Series</strong>: <span class="arithmatex">\( R_{eq} = R_1 + R_2 + \cdots + R_n \)</span> </li>
<li><strong>Parallel</strong>: <span class="arithmatex">\( \frac{1}{R_{eq}} = \frac{1}{R_1} + \frac{1}{R_2} + \cdots + \frac{1}{R_n} \)</span></li>
</ul>
<hr/>
<h2 id="recursive-calculation">Recursive Calculation</h2>
<p>Each group is either:</p>
<ul>
<li>A single resistor (leaf), or</li>
<li>A group of resistors connected in series or parallel.</li>
</ul>
<p>Equivalent resistance is computed recursively.</p>
<hr/>
<h2 id="interactive-circuit-simulator-nested-series-parallel">Interactive Circuit Simulator (Nested Series &amp; Parallel)</h2>
<p>You can:</p>
<ul>
<li>Add resistors in <strong>series</strong> or <strong>parallel</strong> to the current selected group,</li>
<li>Navigate into groups to add nested connections,</li>
<li>Edit resistor values,</li>
<li>See the circuit visually on canvas,</li>
<li>See equivalent resistance updated live.</li>
</ul>
<hr/>
<style>
  body { font-family: Arial, sans-serif; max-width: 720px; margin: auto; padding: 20px;}
  input[type=number] { width: 80px; margin-right: 10px; }
  button { margin: 5px 8px 5px 0; padding: 6px 12px; cursor: pointer; }
  #breadcrumbs { margin-bottom: 10px; }
  #resistor-list { margin-top: 15px; white-space: pre-wrap; font-family: monospace; }
  #canvas-container { text-align: center; margin-top: 20px; }
  #circuitCanvas { border: 1px solid #ccc; background: #f9f9f9; }
</style>
<div>
<label>Resistance (Ω): <input id="resistanceInput" min="0.01" step="0.01" type="number" value="10"/></label><br/>
<button onclick="addResistor('series')">Add Resistor in Series</button>
<button onclick="addResistor('parallel')">Add Resistor in Parallel</button>
<button onclick="goUp()">Go Up One Level</button>
<button onclick="resetCircuit()">Reset Circuit</button>
</div>
<div id="breadcrumbs"></div>
<div id="resistor-list"></div>
<div class="result" id="result" style="margin-top:20px; font-weight:bold; font-size:1.3em;">Equivalent Resistance: 0 Ω</div>
<div id="canvas-container">
<canvas height="220" id="circuitCanvas" width="700"></canvas>
</div>
<script>
  // Data structure: Recursive groups and resistors
  // Group: { type: 'series'|'parallel', children: [...] }
  // Leaf resistor: { type: 'resistor', resistance: number }

  let circuit = {
    type: 'series',
    children: []
  };

  // Path in tree to current group for editing/navigating
  let currentPath = [];

  // Helpers
  function getCurrentGroup() {
    let node = circuit;
    for (let idx of currentPath) {
      node = node.children[idx];
    }
    return node;
  }

  // Add resistor as a leaf in current group
  function addResistor(connectionType) {
    const val = getResistanceInput();
    if (val === null) return;

    let current = getCurrentGroup();

    // If current group type differs from requested, add new subgroup
    if (current.type !== connectionType && current.children.length > 0) {
      // Wrap existing children in new subgroup and add new resistor in that subgroup
      let oldChildren = current.children;
      current.children = [{
        type: current.type,
        children: oldChildren
      }];
      current.type = connectionType;
    }

    current.children.push({ type: 'resistor', resistance: val });
    updateUI();
  }

  // Navigate up one level in tree
  function goUp() {
    if (currentPath.length === 0) return; // Already at root
    currentPath.pop();
    updateUI();
  }

  // Reset entire circuit
  function resetCircuit() {
    circuit = { type: 'series', children: [] };
    currentPath = [];
    updateUI();
  }

  // Validate and get input resistance
  function getResistanceInput() {
    const input = document.getElementById('resistanceInput');
    const val = parseFloat(input.value);
    if (isNaN(val) || val <= 0) {
      alert('Please enter a positive resistance value.');
      return null;
    }
    return val;
  }

  // Recursive equivalent resistance calculation
  function calcResistance(node) {
    if (node.type === 'resistor') {
      return node.resistance;
    }
    if (node.type === 'series') {
      return node.children.reduce((sum, c) => sum + calcResistance(c), 0);
    }
    if (node.type === 'parallel') {
      let invSum = 0;
      for (const c of node.children) {
        let r = calcResistance(c);
        if (r === 0) return 0;
        invSum += 1/r;
      }
      return invSum === 0 ? 0 : 1/invSum;
    }
    return 0;
  }

  // Render circuit textually with navigation
  function renderText(node, indent = '', indexPath = []) {
    if (node.type === 'resistor') {
      return `${indent}- Resistor: ${node.resistance.toFixed(3)} Ω\n`;
    }

    let s = `${indent}- ${node.type.toUpperCase()} group:\n`;
    node.children.forEach((child, i) => {
      s += renderText(child, indent + '  ', indexPath.concat(i));
    });
    return s;
  }

  // Update breadcrumbs UI
  function updateBreadcrumbs() {
    let crumbs = ['Root'];
    let node = circuit;
    for (let i = 0; i < currentPath.length; i++) {
      const idx = currentPath[i];
      node = node.children[idx];
      if (node.type === 'resistor') {
        crumbs.push(`R: ${node.resistance.toFixed(1)} Ω`);
      } else {
        crumbs.push(node.type.toUpperCase());
      }
    }
    document.getElementById('breadcrumbs').innerText = 'Path: ' + crumbs.join(' > ');
  }

  // Drawing helpers

  const canvas = document.getElementById('circuitCanvas');
  const ctx = canvas.getContext('2d');

  const resistorWidth = 60;
  const resistorHeight = 30;
  const spacingX = 25;
  const spacingY = 20;

  // Draw resistor symbol with label at (x,y)
  function drawResistor(x, y, label, resistance) {
    ctx.strokeStyle = '#333';
    ctx.fillStyle = '#000';
    ctx.lineWidth = 2;

    ctx.strokeRect(x, y - resistorHeight/2, resistorWidth, resistorHeight);

    ctx.font = '12px Arial';
    ctx.fillText(label, x + 5, y - 8);
    ctx.fillText(resistance.toFixed(1) + ' Ω', x + 5, y + 15);
  }

  // Recursive drawing function
  // Returns bounding box: {width, height}
  function drawNode(node, x, y) {
    if (node.type === 'resistor') {
      drawResistor(x, y, 'R', node.resistance);
      return { width: resistorWidth + spacingX, height: resistorHeight + spacingY };
    }

    if (node.type === 'series') {
      // Draw children horizontally in series
      let curX = x;
      let maxHeight = 0;
      node.children.forEach((child, i) => {
        // Draw wire to next resistor/group
        if (i > 0) {
          ctx.beginPath();
          ctx.moveTo(curX - spacingX/2, y);
          ctx.lineTo(curX, y);
          ctx.stroke();
        }

        let size = drawNode(child, curX, y);
        curX += size.width;
        if (size.height > maxHeight) maxHeight = size.height;
      });

      // Draw wires at start and end
      ctx.beginPath();
      ctx.moveTo(x - spacingX, y);
      ctx.lineTo(x, y);
      ctx.moveTo(curX, y);
      ctx.lineTo(curX + spacingX, y);
      ctx.stroke();

      return { width: (curX - x) + spacingX * 2, height: maxHeight };
    }

    if (node.type === 'parallel') {
      // Draw children vertically in parallel
      let maxWidth = 0;
      let totalHeight = 0;
      const gap = resistorHeight + spacingY;

      node.children.forEach((child, i) => {
        let posY = y + i * gap;
        let size = drawNode(child, x + spacingX, posY);
        if (size.width > maxWidth) maxWidth = size.width;
        totalHeight += size.height;
      });

      // Draw vertical wires on left and right
      let topY = y - spacingY/2;
      let bottomY = y + (node.children.length - 1) * (resistorHeight + spacingY) + resistorHeight/2 + spacingY/2;

  ctx.beginPath();
  // Left vertical wire
  ctx.moveTo(x, topY);
  ctx.lineTo(x, bottomY);

  // Right vertical wire
  ctx.moveTo(x + maxWidth + spacingX*1.5, topY);
  ctx.lineTo(x + maxWidth + spacingX*1.5, bottomY);

  // Connect horizontal wires for each child
  node.children.forEach((child, i) => {
    let posY = y + i * gap + resistorHeight/2;
    ctx.moveTo(x, posY);
    ctx.lineTo(x + spacingX, posY);
    ctx.moveTo(x + maxWidth + spacingX * 1.5, posY);
    ctx.lineTo(x + maxWidth + spacingX, posY);
  });

  ctx.stroke();

  return { width: maxWidth + spacingX * 2.5, height: bottomY - topY };
}
// Clear and redraw canvas
function drawCircuit() {
ctx.clearRect(0, 0, canvas.width, canvas.height);
drawNode(circuit, 100, 100);
}

// Update UI elements
function updateUI() {
updateBreadcrumbs();
const res = calcResistance(circuit);
document.getElementById('result').innerText = Equivalent Resistance: ${res.toFixed(3)} Ω;
document.getElementById('resistor-list').innerText = renderText(circuit);
drawCircuit();
}

// Initial UI update
resetCircuit();

</script>
<p>```</p>
</div>
</div><footer>
<div aria-label="Footer Navigation" class="rst-footer-buttons" role="navigation">
<a class="btn btn-neutral float-left" href="../../4%20Electromagnetism/Problem_1/" title="Simulating the Effects of the Lorentz Force"><span class="icon icon-circle-arrow-left"></span> Previous</a>
<a class="btn btn-neutral float-right" href="../../6%20Statistics/Problem_1/" title="Problem 1">Next <span class="icon icon-circle-arrow-right"></span></a>
</div>
<hr/>
<div role="contentinfo">
<!-- Copyright etc -->
</div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
</div>
</div>
</section>
</div>
<div aria-label="Versions" class="rst-versions" role="note">
<span class="rst-current-version" data-toggle="rst-current-version">
<span><a href="../../4%20Electromagnetism/Problem_1/" style="color: #fcfcfc">« Previous</a></span>
<span><a href="../../6%20Statistics/Problem_1/" style="color: #fcfcfc">Next »</a></span>
</span>
</div>
<script src="../../../js/jquery-3.6.0.min.js"></script>
<script>var base_url = "../../..";</script>
<script src="../../../js/theme_extra.js"></script>
<script src="../../../js/theme.js"></script>
<script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
<script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>
<script src="https://cdn.plot.ly/plotly-2.24.1.min.js"></script>
<script src="../../../search/main.js"></script>
<script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>
</body>
</html>
